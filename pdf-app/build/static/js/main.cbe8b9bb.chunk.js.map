{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["polyfill","dragImageTranslateOverride","scrollBehaviourDragImageTranslateOverride","window","addEventListener","A4","Letter","Fit","Portrait","Landscape","None","Small","Big","App","props","clearSelection","imgArr","state","images","forEach","img","selected","setState","readfiles","fileList","a","console","log","length","i","type","imgDataUrl","URL","createObjectURL","uuid","uuidv4","push","id","file","loadImage","objUrl","Promise","resolve","reject","Image","onload","onerror","e","src","fetchImage","dataURL","quality","fetch","res","arrayBuffer","raw","mime","headers","get","canvas","document","createElement","ctx","getContext","width","height","drawImage","canvasToBlob","blob","createPdf","busy","PDFDocument","create","pdfDoc","pageSize","getPageSize","compressImages","imageQuality","undefined","jpegOrientation","jpegExif","EXIF","readFromBinaryFile","ex","error","embedJpg","embedPng","page","addPage","x","y","scaleFactor","Math","min","getWidth","pageMargin","getHeight","dim","scale","setRotation","degrees","save","pdfBytes","Blob","link","href","download","click","lastError","lastMime","deletePage","arr","indexPosition","index","splice","handleDrop","droppedId","currentId","droppedIndex","droppedImage","currentIndex","pageOrientation","PageSizes","reverse","getAspectRatio","forceShowOption","fileInput","React","createRef","pageWrapper","border","display","background","position","pageStyle","margin","flex","backgroundSize","backgroundRepeat","backgroundPosition","this","ceil","boxShadow","landing","className","style","padding","onClick","current","onDragStart","onDrop","stopPropagation","preventDefault","files","dataTransfer","onDragOver","onDragEnter","listView","flexWrap","justifyContent","map","draggable","effectAllowed","setData","getData","imgArr1","right","top","color","aria-hidden","backgroundImage","pageMarginSection","paddingBottom","fontSize","paddingTop","flexDirection","textAlign","imageQualitySelector","optionStyle","closeBtn","options","actions","borderTop","paddingLeft","paddingRight","pageHeader","ref","onChange","multiple","overflow","accept","toBlob","err","replace","c","r","random","toString","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cbe8b9bb.chunk.js","sourcesContent":["import './App.css';\nimport React from 'react';\nimport { PageSizes, PDFDocument, degrees } from 'pdf-lib'\nimport EXIF from 'exif-js';\nimport { polyfill } from \"mobile-drag-drop\";\n\n// optional import of scroll behaviour\nimport { scrollBehaviourDragImageTranslateOverride } from \"mobile-drag-drop/scroll-behaviour\";\n\n// options are optional ;)\npolyfill({\n  // use this to make use of the scroll behaviour\n  dragImageTranslateOverride: scrollBehaviourDragImageTranslateOverride\n});\n\nwindow.addEventListener('touchmove', function () { });\n\nconst A4 = \"A4\", Letter = \"US Letter\", Fit = \"Same as Image\", Portrait = \"Portrait\", Landscape = \"Landscape\", None = \"0\", Small = \"20\", Big = \"50\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      images: [],\n      pageOrientation: Portrait,\n      pageSize: A4,\n      pageMargin: None,\n      lastError: undefined,\n      lastMime: undefined,\n      forceShowOption: false,\n      compressImages: false,\n      imageQuality: 8,\n      busy: false\n    };\n    this.fileInput = React.createRef();\n  }\n  render() {\n    let pageWrapper = {\n      height: \"192px\",\n      width: \"192px\",\n      border: \"none\",\n      display: \"flex\",\n      background: \"white\",\n      position: \"relative\"\n    };\n\n    let pageStyle = {\n      margin: '0px',\n      flex: \"1\",\n      backgroundSize: \"contain\",\n      backgroundRepeat: \"no-repeat\",\n      backgroundPosition: \"center\"\n    };\n\n    if (this.state.pageMargin === Small) {\n      pageStyle.margin = \"5px\";\n    } else if (this.state.pageMargin === Big) {\n      pageStyle.margin = \"10px\";\n    }\n\n    if (this.state.pageSize !== Fit) {\n      pageWrapper.width = Math.ceil(192 * this.getAspectRatio()) + 'px';\n      pageWrapper.boxShadow = \"5px 5px 5px rgb(200,200,200)\";\n    }\n\n    const landing = (<div className=\"landing-page\">\n      <div style={{ padding: \"40px\" }}>\n        Convert JPEG or PNG images to PDF without uploading your sensitve data anywhere.\n      <br />\n      Files are processed entirely on your device and does not get uploaded to any server.\n      </div>\n      <button onClick={() => this.fileInput.current.click()} className=\"big-btn\">Select Images</button>\n      <div className=\"dropzone\"\n        onDragStart={(e) => {\n        }}\n        onDrop={(e) => {\n          if (e.stopPropagation) {\n            e.stopPropagation(); // stops the browser from redirecting.\n          }\n          if (e.preventDefault) {\n            e.preventDefault(); // stops the browser from redirecting.\n          }\n          let files = e.dataTransfer.files;\n          this.readfiles(files);\n        }}\n        onDragOver={(e) => {\n          if (e.preventDefault) {\n            e.preventDefault(); // stops the browser from redirecting.\n          }\n        }}\n        onDragEnter={(e) => { e.preventDefault(); }}>or drop images here</div>\n    </div>);\n\n    const listView = (<div style={{ display: 'flex', flexWrap: 'wrap', flex: \"1\", justifyContent: \"center\" }} >\n      {this.state.images.map((img, index) => (\n        <div\n          style={{ padding: \"5px\" }}\n          key={img.id + \"\"}\n          draggable={true}\n          onDragStart={(e) => {\n            e.dataTransfer.effectAllowed = 'move';\n            e.dataTransfer.setData('text/plain', img.id);\n            console.log(\"Drag start \" + index);\n          }}\n          onDrop={(e) => {\n            if (e.stopPropagation) {\n              e.stopPropagation(); // stops the browser from redirecting.\n            }\n            let droppedId = e.dataTransfer.getData(\"text/plain\");\n            console.log(\"droppedId: \" + droppedId);\n            this.handleDrop(droppedId, img.id);\n          }}\n          onDragOver={(e) => {\n            if (e.preventDefault) {\n              e.preventDefault(); // stops the browser from redirecting.\n            }\n          }}\n          onDragEnter={(e) => { e.preventDefault(); }}\n        >\n          <div style={{ ...pageWrapper }}\n            onClick={\n              (e) => {\n                let imgArr1 = [...this.state.images];\n                for (let x = 0; x < imgArr1.length; x++) {\n                  imgArr1[x] = { ...imgArr1[x], selected: imgArr1[x].id === img.id };\n                }\n                this.setState({ images: [...imgArr1] });\n                e.stopPropagation();\n              }\n            }\n          >\n            <div style={{\n              display: img.selected ? \"block\" : \"none\", position: \"absolute\",\n              right: \"0px\", top: \"0px\", padding: \"5px\", color: \"rgb(180,180,180)\"\n            }} onClick={(e) => { e.stopPropagation(); this.deletePage(img.id); }} ><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></div>\n            <div style={{ ...pageStyle, backgroundImage: \"url('\" + img.imgDataUrl + \"')\" }}>\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>);\n\n    const pageMarginSection = (<div>\n      <div style={{ paddingBottom: \"10px\", fontSize: \"16px\", color: \"gray\", paddingTop: \"20px\" }}>Page margin</div>\n      <div style={{ display: \"flex\" }}>\n        <div style={{\n          flex: \"1\", height: \"50px\", display: \"flex\", flexDirection: \"column\",\n          justifyContent: \"center\", textAlign: \"center\",\n          background: (this.state.pageMargin == None ? \"purple\" : \"rgb(240,240,240)\"),\n          color: (this.state.pageMargin == None ? \"white\" : \"black\"), padding: \"5px\"\n        }} onClick={() => this.setState({ pageMargin: None })}>None</div>\n        <div style={{\n          flex: \"1\", height: \"50px\", display: \"flex\", flexDirection: \"column\",\n          justifyContent: \"center\", textAlign: \"center\",\n          background: (this.state.pageMargin == Small ? \"purple\" : \"rgb(240,240,240)\"),\n          color: (this.state.pageMargin == Small ? \"white\" : \"black\"), padding: \"5px\"\n        }} onClick={() => this.setState({ pageMargin: Small })}>Small</div>\n        <div style={{\n          flex: \"1\", height: \"50px\", display: \"flex\", flexDirection: \"column\",\n          justifyContent: \"center\", textAlign: \"center\",\n          background: (this.state.pageMargin == Big ? \"purple\" : \"rgb(240,240,240)\"),\n          color: (this.state.pageMargin == Big ? \"white\" : \"black\"), padding: \"5px\"\n        }} onClick={() => this.setState({ pageMargin: Big })}>Big</div>\n      </div>\n    </div>);\n\n    const imageQualitySelector = (<div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n      <div style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\" }}>Image quality</div>\n      <div style={{ display: \"flex\" }}>\n        <div style={{ padding: \"5px\" }}>\n          <button onClick={() => {\n            if (this.state.imageQuality < 10) {\n              this.setState({\n                imageQuality: +this.state.imageQuality + 1\n              });\n            }\n          }}>+</button>\n        </div>\n        <div style={{ padding: \"5px\" }}>\n          <div>{this.state.imageQuality / 10}</div>\n        </div>\n        <div style={{ padding: \"5px\" }} >\n          <button onClick={() => {\n            if (this.state.imageQuality > 1) {\n              this.setState({\n                imageQuality: +this.state.imageQuality - 1\n              });\n            }\n          }}>-</button>\n        </div>\n      </div>\n    </div>);\n\n    const optionStyle = {}\n    if (this.state.forceShowOption) {\n      optionStyle.display = \"block\"\n    }\n\n    const closeBtn = this.state.forceShowOption ? <span onClick={() => { this.setState({ forceShowOption: false }) }}>X</span> : <span></span>;\n\n    const options = (\n      <div className=\"options\" style={optionStyle}>\n        <div style={{ paddingBottom: \"10px\", fontSize: \"20px\", display: \"flex\", justifyContent: \"space-between\" }}>\n          <span>Options</span>\n          {closeBtn}\n        </div>\n        <div style={{ paddingBottom: \"10px\", fontSize: \"16px\", color: \"gray\", paddingTop: \"10px\" }}>Page orientation</div>\n        <div style={{ display: \"flex\" }}>\n          <div style={{\n            flex: \"1\", height: \"50px\", display: \"flex\", flexDirection: \"column\",\n            justifyContent: \"center\", textAlign: \"center\",\n            background: (this.state.pageOrientation == Portrait ? \"purple\" : \"rgb(240,240,240)\"),\n            color: (this.state.pageOrientation == Portrait ? \"white\" : \"black\"), padding: \"5px\"\n          }}\n            onClick={() => this.setState({ pageOrientation: Portrait })}>Portrait</div>\n          <div style={{\n            flex: \"1\", height: \"50px\", display: \"flex\", flexDirection: \"column\",\n            justifyContent: \"center\", textAlign: \"center\",\n            background: (this.state.pageOrientation == Landscape ? \"purple\" : \"rgb(240,240,240)\"),\n            color: (this.state.pageOrientation == Landscape ? \"white\" : \"black\"), padding: \"5px\"\n          }}\n            onClick={() => this.setState({ pageOrientation: Landscape })}>Landscape</div>\n        </div>\n        <div style={{ paddingBottom: \"10px\", fontSize: \"16px\", color: \"gray\", paddingTop: \"20px\" }}>Page size</div>\n        <div style={{ display: \"flex\" }}>\n          <div style={{\n            flex: \"1\", height: \"50px\", display: \"flex\", flexDirection: \"column\",\n            justifyContent: \"center\", textAlign: \"center\",\n            background: (this.state.pageSize == A4 ? \"purple\" : \"rgb(240,240,240)\"),\n            color: (this.state.pageSize == A4 ? \"white\" : \"black\"), padding: \"5px\"\n          }} onClick={() => this.setState({ pageSize: A4 })}>A4</div>\n          <div style={{\n            flex: \"1\", height: \"50px\", display: \"flex\", flexDirection: \"column\",\n            justifyContent: \"center\", textAlign: \"center\",\n            background: (this.state.pageSize == Letter ? \"purple\" : \"rgb(240,240,240)\"),\n            color: (this.state.pageSize == Letter ? \"white\" : \"black\"), padding: \"5px\"\n          }} onClick={() => this.setState({ pageSize: Letter })}>US Letter</div>\n          <div style={{\n            flex: \"1\", height: \"50px\", display: \"flex\", flexDirection: \"column\",\n            justifyContent: \"center\", textAlign: \"center\",\n            background: (this.state.pageSize == Fit ? \"purple\" : \"rgb(240,240,240)\"),\n            color: (this.state.pageSize == Fit ? \"white\" : \"black\"), padding: \"5px\"\n          }} onClick={() => this.setState({ pageSize: Fit })}>Same as Image</div>\n        </div>\n        {this.state.pageSize !== Fit ? pageMarginSection : (<div></div>)}\n        <div style={{ paddingBottom: \"10px\", fontSize: \"16px\", color: \"gray\", paddingTop: \"20px\" }}>Compression</div>\n        <div style={{ display: \"flex\" }}>\n          <div style={{\n            flex: \"1\", height: \"50px\", display: \"flex\", flexDirection: \"column\",\n            justifyContent: \"center\", textAlign: \"center\",\n            background: (this.state.compressImages ? \"purple\" : \"rgb(240,240,240)\"),\n            color: (this.state.compressImages ? \"white\" : \"black\"), padding: \"5px\"\n          }}\n            onClick={() => this.setState({ compressImages: true })}>Compress Images</div>\n          <div style={{\n            flex: \"1\", height: \"50px\", display: \"flex\", flexDirection: \"column\",\n            justifyContent: \"center\", textAlign: \"center\",\n            background: (!this.state.compressImages ? \"purple\" : \"rgb(240,240,240)\"),\n            color: (!this.state.compressImages ? \"white\" : \"black\"), padding: \"5px\"\n          }}\n            onClick={() => this.setState({ compressImages: false })}>Don't Compress</div>\n        </div>\n        {this.state.compressImages ? imageQualitySelector : (<div></div>)}\n      </div>\n    );\n    const actions = (<div style={{ display: \"flex\", justifyContent: \"space-between\", padding: \"10px\", borderTop: \"1px solid rgb(200,200,200)\" }}>\n      <div style={{ display: \"flex\" }} >\n        <div style={{ paddingLeft: \"5px\", paddingRight: \"5px\" }}>\n          <button onClick={() => {\n            this.setState({\n              forceShowOption: true\n            });\n          }} className=\"option-btn button\">PDF Options</button>\n        </div>\n        <button onClick={() => this.fileInput.current.click()} className=\"button\">Add page</button>\n      </div>\n      <button onClick={this.createPdf} className=\"button\">Generate PDF</button>\n    </div>);\n\n    const pageHeader = (<div className=\"page-header\">\n      <span>CONVERT IMAGE TO PDF</span>\n    </div>);\n\n    if (this.state.images.length < 1) {\n      return <div>\n        {pageHeader}\n        <input type=\"file\" ref={this.fileInput} onChange={() => this.readfiles(this.fileInput.current.files)} multiple style={{ display: \"none\" }}></input>\n        {landing}\n      </div>\n    }\n\n    const busy = {};\n    if (this.state.busy) {\n      busy.display = \"flex\";\n    }\n\n    return (\n      <div style={{ display: \"flex\", flexDirection: \"column\", width: \"100%\", height: \"100%\", overflow: \"hidden\", flex: \"1\" }}>\n        {pageHeader}\n        <div style={{ display: \"flex\", overflow: \"hidden\", flex: \"1\" }}>\n          <div style={{ display: \"flex\", flexDirection: \"column\", width: \"100%\", flex: \"1\", overflow: \"auto\", background: \"rgb(240,240,240)\" }} onClick={this.clearSelection}>\n            {listView}\n            <div style={{ flex: \"1\" }}></div>\n          </div>\n          {options}\n        </div>\n        {actions}\n        <input type=\"file\" accept={\"image/*\"} ref={this.fileInput} onChange={() => this.readfiles(this.fileInput.current.files)} multiple style={{ display: \"none\" }} />\n        <div className=\"busy\" style={busy}>Generating PDF, Please wait...</div>\n      </div>\n\n    );\n\n    // return (\n    //   <div>\n    //     <div>This app is not styled yet</div>\n    //     <div style={{ display: 'flex', flexWrap: 'wrap' }}>\n    //       {this.state.images.map((img, index) => (\n    //         <div style={{ display: 'flex', flexDirection: 'column' }}>\n    //           <img src={img.imgDataUrl} alt=\"\" style={{ width: \"96px\", height: \"128px\" }}></img>\n    //           <div>{\"Page \" + (index + 1)}</div>\n    //         </div>\n    //       ))}\n    //     </div>\n    //     <div>\n    //       <input type=\"file\" ref={this.fileInput} onChange={this.readfiles} multiple></input>\n    //       <button onClick={() => { this.setState({ images: [] }) }}>Clear</button>\n    //       <button onClick={this.createPdf}>Generate PDF</button>\n    //     </div>\n    //     {this.state.lastError ?\n    //       <div>\n    //         <div>{this.state.lastError}</div>\n    //         <div>{this.state.lastMime}</div>\n    //       </div> : <div>{this.state.lastMime}</div>}\n    //     <div>{this.state.lastMime}</div>\n    //   </div>);\n  }\n\n  //https://labs.madisoft.it/javascript-image-compression-and-resizing/\n  /* resizeImage = async (file, width, height) => {\n    const blobURL = window.URL.createObjectURL(file);\n    const img = new Image();\n    img.src = blobURL;\n    img.onload = function (ev) {\n      window.URL.revokeObjectURL(blobURL); // release memory\n      // Use the img\n      const canvas = document.createElement('canvas');\n      canvas.width = width;\n      canvas.height = height;\n      const ctx = canvas.getContext('2d');\n      ctx.drawImage(img, 0, 0, width, height);\n    };\n\n  } */\n\n  clearSelection = () => {\n    let imgArr = [...this.state.images];\n    imgArr.forEach(img => {\n      img.selected = false;\n    });\n    this.setState({\n      images: imgArr\n    });\n  }\n\n  readfiles = async (fileList) => {\n    console.log(fileList.length);\n    let imgArr = [];\n    for (let i = 0; i < fileList.length; i++) {\n      console.log(\"Type: \" + fileList[i].type);\n      if (!(fileList[i].type === \"image/png\" || fileList[i].type === \"image/x-png\" || fileList[i].type === \"image/jpeg\")) {\n        continue;\n      }\n      const imgDataUrl = window.URL.createObjectURL(fileList[i]);\n      //let img = await this.loadImage(imgDataUrl);\n      let uuid = this.uuidv4();\n      console.log(\"uuid: \" + uuid);\n      imgArr.push({ id: uuid, imgDataUrl, file: fileList[i], /* width: img.width, height: img.height */selected: false });\n    }\n    this.setState((state) => ({\n      images: [...state.images, ...imgArr]\n    }));\n  }\n\n  loadImage = (objUrl) => {\n    return new Promise((resolve, reject) => {\n      let img = new Image();\n      img.onload = () => {\n        resolve(img);\n      };\n      img.onerror = (e) => {\n        reject(e);\n      };\n      img.src = objUrl;\n    });\n  }\n\n  readExif(blob) {\n    EXIF.readFromBinaryFile(blob)\n  }\n\n  canvasToBlob(canvas, quality) {\n    return new Promise((resolve, reject) => {\n      try {\n        canvas.toBlob(resolve, \"image/jpeg\", quality);\n      }\n      catch (err) {\n        reject(err);\n      }\n    });\n  }\n\n  // scaleImage = async (pageWidth, pageHeight, pageMargin, dataURL) => {\n  //   let img = await this.loadImage(dataURL);\n\n  //   let scaleFactor = Math.min((pageWidth - pageMargin) / img.width, (pageHeight - pageMargin) / img.height);\n  //   let w = img.width * scaleFactor;\n  //   let h = img.height * scaleFactor;\n\n  //   let canvas = document.createElement('canvas');\n  //   let ctx = canvas.getContext('2d');\n  //   canvas.width = w;\n  //   canvas.height = h;\n  //   ctx.drawImage(img, 0, 0, w, h);\n  //   let blob = await this.canvasToBlob(canvas);\n  //   console.log(blob);\n  //   return await blob.arrayBuffer();\n  // }\n\n  fetchImage = async (dataURL, quality) => {\n    if (!quality) {\n      let res = await fetch(dataURL);\n      let raw = await res.arrayBuffer();\n      return {\n        arrayBuffer: raw,\n        mime: res.headers.get('content-type')\n      }\n    }\n    else {\n      let img = await this.loadImage(dataURL);\n      let canvas = document.createElement('canvas');\n      let ctx = canvas.getContext('2d');\n      canvas.width = img.width;\n      canvas.height = img.height;\n      ctx.drawImage(img, 0, 0, img.width, img.height);\n      let blob = await this.canvasToBlob(canvas, quality);\n      let raw = await blob.arrayBuffer();\n      return {\n        arrayBuffer: raw,\n        mime: \"image/jpeg\"\n      };\n    }\n  }\n\n  createPdf = async () => {\n    let mime = \"\";\n    try {\n      this.setState({ busy: true });\n      const pdfDoc = await PDFDocument.create();\n      for (let i = 0; i < this.state.images.length; i++) {\n\n        let pageSize = this.getPageSize();\n\n        // if (this.state.pageSize !== Fit) {\n        //   const page = pdfDoc.addPage(pageSize);\n        //   const dim = await pdfDoc.embedPng(await this.scaleImage(page.getWidth(), page.getHeight(), this.state.pageMargin, this.state.images[i].imgDataUrl));\n        //   page.drawImage(dim, {\n        //     x: page.getWidth() / 2 - dim.width / 2,\n        //     y: page.getHeight() / 2 - dim.height / 2,\n        //     width: dim.width,\n        //     height: dim.height,\n        //   });\n\n        //   continue;\n        // }\n\n        // let loadedImage=await loadImage(this.state.images[i].imgDataUrl,{meta:true});\n        // console.log(\"loaded image \"+loadedImage);\n        // console.log(loadedImage);\n\n        let res = await this.fetchImage(this.state.images[i].imgDataUrl, this.state.compressImages ? this.state.imageQuality / 10 : undefined);\n        let raw = await res.arrayBuffer;\n\n        mime = res.mime;\n        console.log(mime);\n\n        let jpegOrientation = 1;\n\n        if (mime === 'image/jpeg') {\n          try {\n            let jpegExif = EXIF.readFromBinaryFile(raw);\n            if (jpegExif[\"Orientation\"]) {\n              jpegOrientation = jpegExif[\"Orientation\"];\n              console.log(\"jpegOrientation: \" + jpegOrientation);\n            }\n          }\n          catch (ex) { console.error(ex); }\n        }\n        //console.log(raw);\n        const img = await (mime === 'image/jpeg' ? pdfDoc.embedJpg(raw) : pdfDoc.embedPng(raw));\n\n        console.log(\"width: \" + img.width + \" height: \" + img.height);\n\n        if (this.state.pageSize === Fit) {\n          pageSize = [img.width, img.height];\n        } else {\n          switch (jpegOrientation) {\n            case 6:\n            case 8:\n              pageSize = [pageSize[1], pageSize[0]];\n              break;\n          }\n        }\n        const page = pdfDoc.addPage(pageSize);\n        if (this.state.pageSize === Fit) {\n          page.drawImage(img, {\n            x: 0,\n            y: 0,\n            width: img.width,\n            height: img.height,\n          });\n        } else {\n          //page.setSize(pageSize[0], pageSize[1]);\n          let scaleFactor = Math.min((page.getWidth() - this.state.pageMargin) / img.width, (page.getHeight() - this.state.pageMargin) / img.height);\n          let w = img.width * scaleFactor;\n          let h = img.height * scaleFactor;\n\n          //page.setSize(img.width,img.height);\n          console.log(img.width + \" \" + img.height);\n          console.log(page.getWidth() + \" \" + page.getHeight());\n\n          let dim = img.scale(scaleFactor);\n\n          page.drawImage(img, {\n            x: page.getWidth() / 2 - dim.width / 2,\n            y: page.getHeight() / 2 - dim.height / 2,\n            width: dim.width,\n            height: dim.height,\n          });\n        }\n\n        switch (jpegOrientation) {\n          case 6:\n            page.setRotation(degrees(90));\n            break;\n          case 3:\n            page.setRotation(degrees(180));\n            break;\n          case 8:\n            page.setRotation(degrees(270));\n            break;\n        }\n      }\n      const pdfBytes = await pdfDoc.save();\n      let blob = new Blob([pdfBytes], { type: \"application/pdf\" });\n      // let url = window.URL.createObjectURL(blob);\n      // window.open(url);\n      var link = document.createElement('a');\n      link.href = window.URL.createObjectURL(blob);\n      var fileName = \"file.pdf\";\n      link.download = fileName;\n      link.click();\n      this.setState({ busy: false });\n    }\n    catch (err) {\n      console.error(err);\n      this.setState({ lastError: err, lastMime: mime, busy: false });\n    }\n  }\n\n  deletePage = id => {\n    console.log(\"To delete: \" + id);\n    let arr = [...this.state.images];\n    let indexPosition = -1;\n    arr.forEach((img, index) => {\n      if (img.id === id) {\n        indexPosition = index;\n      }\n    });\n    arr.splice(indexPosition, 1);\n    this.setState({\n      images: arr\n    });\n  }\n\n  handleDrop = (droppedId, currentId) => {\n    console.log(\"droppedId: \" + droppedId + \" currentId: \" + currentId);\n    let droppedIndex = -1;\n    let arr = [...this.state.images];\n    arr.forEach((img, index) => {\n      if (img.id === droppedId) {\n        droppedIndex = index;\n      }\n    });\n    let droppedImage = arr.splice(droppedIndex, 1)[0];\n    let currentIndex = -1;\n    arr.forEach((img, index) => {\n      if (img.id === currentId) {\n        currentIndex = index;\n      }\n    });\n    arr.splice(currentIndex, 0, droppedImage);\n    console.log(arr);\n\n    this.setState({\n      images: arr\n    });\n  }\n\n  getPageSize = () => {\n    switch (this.state.pageSize) {\n      case A4:\n        if (this.state.pageOrientation === Portrait) {\n          return PageSizes.A4;\n        }\n        else {\n          let pageSize = [...PageSizes.A4];\n          pageSize.reverse();\n          return pageSize;\n        }\n      case Letter:\n        if (this.state.pageOrientation === Portrait) {\n          return PageSizes.Letter;\n        }\n        else {\n          let pageSize = [...PageSizes.Letter];\n          pageSize.reverse();\n          return pageSize;\n        }\n      default:\n        return undefined;\n    }\n  }\n\n  getAspectRatio = () => {\n    let pageSize = this.getPageSize();\n    return pageSize[0] / pageSize[1];\n  }\n\n  // getPreviewImageSize = (pageWidth, pageHeight, imageWidth, imageHeight) => {\n  //   let pageSize = this.getPageSize();\n  //   let margin = this.state.pageMargin * pageHeight / pageSize[1];\n  //   let scaleFactor = Math.min((pageWidth - margin) / img.width, (pageHeight - margin) / img.height);\n  //   let w = imageWidth * scaleFactor;\n  //   let h = imageHeight * scaleFactor;\n  //   return [w, h];\n  // }\n\n  // getPreviewPageSize = () => {\n  //   return {\n  //     height: 192,\n  //     width: 192 * this.getAspectRatio()\n  //   };\n  // }\n\n  // getMaxImageSize=()=>{\n  //   let maxWidth = -1;\n  //   let maxHeight = -1;\n  //   this.state.images.forEach(image => {\n  //     if (image.width > maxWidth) maxWidth = image.width;\n  //     if (image.height > maxWidth) maxHeight = image.height;\n  //   });\n  //   return {\n  //     width: maxWidth,\n  //     height: maxHeight\n  //   };\n  // }\n\n  /* createPdf = async () => {\n    const pdfDoc = await PDFDocument.create();\n    this.createPage(pdfDoc, 1);\n  }\n\n  createPage = (pdfDoc, index) => {\n    this.embedImage(pdfDoc, index).then(() => {\n      if (index > this.state.images.length) {\n        pdfDoc.save().then((blob) => {\n          var link = document.createElement('a');\n          link.href = window.URL.createObjectURL(blob);\n          var fileName = \"file.pdf\";\n          link.download = fileName;\n          link.click();\n        });\n      }\n      this.createPage(pdfDoc, index + 1);\n    });\n  }\n\n  embedImage = async (pdfDoc, index) => {\n    if (index > this.state.images.length) return;\n    let raw = await (await fetch(this.state.images[index - 1])).blob();\n    const img = await pdfDoc.embedJpg(raw);\n    const page = pdfDoc.addPage();\n    page.drawImage(img, {\n      x: 0,\n      y: 0,\n      width: page.getWidth(),\n      height: page.getHeight(),\n    });\n  } */\n\n  uuidv4() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      let r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n      return v.toString(16);\n    });\n  }\n\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'font-awesome/css/font-awesome.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}